2025-06-08T17:52:32.133212Z  INFO corrosion::command::agent: Starting Corrosion Agent v0.2.0-beta.0
2025-06-08T17:52:32.311255Z  INFO corro_agent::agent::setup: Actor ID: 0bb6db85f0c14ae7b8ebefb856102dac
2025-06-08T17:52:32.315247Z  INFO corro_agent::agent::setup: Cluster ID: 0
2025-06-08T17:52:32.315613Z  INFO corro_agent::transport: Transport (0) for outgoing connections bound to socket [::]:62532
2025-06-08T17:52:32.315681Z  INFO corro_agent::transport: Transport (1) for outgoing connections bound to socket [::]:56624
2025-06-08T17:52:32.315730Z  INFO corro_agent::transport: Transport (2) for outgoing connections bound to socket [::]:54880
2025-06-08T17:52:32.315778Z  INFO corro_agent::transport: Transport (3) for outgoing connections bound to socket [::]:60081
2025-06-08T17:52:32.315816Z  INFO corro_agent::transport: Transport (4) for outgoing connections bound to socket [::]:55300
2025-06-08T17:52:32.315860Z  INFO corro_agent::transport: Transport (5) for outgoing connections bound to socket [::]:57480
2025-06-08T17:52:32.315898Z  INFO corro_agent::transport: Transport (6) for outgoing connections bound to socket [::]:52033
2025-06-08T17:52:32.315946Z  INFO corro_agent::transport: Transport (7) for outgoing connections bound to socket [::]:59081
2025-06-08T17:52:32.317136Z  INFO corro_agent::agent::util: Starting API listener on tcp/127.0.0.1:8082
2025-06-08T17:52:32.317205Z  INFO corro_agent::agent::handlers: Member Up Actor { id: ActorId(f3e3d04a-2cee-4b6b-bd0d-3dfb02da4163), addr: 127.0.0.1:8789, ts: Timestamp(6845c9101beb1810), cluster_id: ClusterId(0) } (result: NewMember)
2025-06-08T17:52:32.317256Z  INFO corro_agent::broadcast: Scheduling cluster membership state update for 2 members (delete: 0)    
2025-06-08T17:52:32.317428Z  INFO corro_agent::agent::run_root: Bookkeeping fully loaded in 240.958µs
2025-06-08T17:52:32.317492Z  INFO corro_agent::agent::run_root: Starting peer API on udp/127.0.0.1:8788 (QUIC)
2025-06-08T17:52:32.317507Z  INFO corro_agent::agent::util: Starting apply_fully_buffered_changes loop
2025-06-08T17:52:32.317519Z  INFO corro_agent::agent::handlers: gossipserver_handler is done
2025-06-08T17:52:32.317560Z  INFO corro_agent::broadcast: Membership states changed! upserted: 2, deleted 0    
2025-06-08T17:52:32.317692Z  INFO corro_admin: Starting Corrosion admin socket at ./admin.sock
2025-06-08T17:52:32.318494Z  INFO corro_agent::agent::handlers: Current node is considered ACTIVE
2025-06-08T17:52:32.318972Z  INFO corro_agent::api::public: getting write connection to update schema
2025-06-08T17:52:32.318997Z  INFO corro_agent::api::public: got write connection to update schema
2025-06-08T17:52:32.319051Z  INFO corro_types::schema: new columns: {}
2025-06-08T17:52:32.319059Z  INFO corro_types::schema: new columns: {}
2025-06-08T17:52:32.319063Z  INFO corro_types::schema: new columns: {}
2025-06-08T17:52:32.319103Z  INFO corro_agent::api::public: Updated 1 rows in __corro_schema for table acknowledgments
2025-06-08T17:52:32.319122Z  INFO corro_agent::api::public: Updated 1 rows in __corro_schema for table propagation_metrics
2025-06-08T17:52:32.319138Z  INFO corro_agent::api::public: Updated 1 rows in __corro_schema for table node_messages
2025-06-08T17:52:32.319292Z  INFO corrosion::command::agent: Applied schema in 0.000275584s
2025-06-08T17:52:33.404087Z  INFO corro_agent::agent::handlers: Member Up Actor { id: ActorId(8d4e40d5-6efe-48c9-970f-0975845a668a), addr: 127.0.0.1:8787, ts: Timestamp(6845cddc6558b820), cluster_id: ClusterId(0) } (result: NewMember)
2025-06-08T17:52:34.241695Z  INFO corro_agent::api::public::pubsub: Received subscription request for query: SELECT node_id, message, sequence, timestamp FROM node_messages
2025-06-08T17:52:34.242275Z  INFO corro_types::pubsub: Initializing subscription at ./subscriptions/1c5e1adf65914b4c99de00ec00daab8f sql_hash=143ad8b1bd4cc5fb sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.242946Z  INFO corro_types::pubsub: modified query for table 'node_messages': SELECT node_messages.pk AS __corro_pk_node_messages_pk, node_id AS col_0, message AS col_1, sequence AS col_2, timestamp AS col_3 FROM node_messages WHERE (node_messages.pk) IN __corro_sub.temp_node_messages sql_hash=143ad8b1bd4cc5fb sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.242985Z  INFO corro_types::pubsub: Creating subscription database schema sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.243628Z  INFO corro_types::pubsub: Running initial query sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.243721Z  INFO corro_types::pubsub: Starting state conn read transaction for initial query sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.243739Z  INFO corro_types::pubsub: Initial query done in 3.417µs sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.243749Z  INFO corro_agent::api::public::pubsub: forwarding subscription events to a sender sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.243804Z  INFO corro_types::pubsub: Done iterating through rows for initial query sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.243945Z  INFO corro_types::pubsub: Attaching __corro_sub to state db sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.244087Z  INFO corro_types::pubsub: Attached __corro_sub to state db sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.244212Z  INFO corro_types::pubsub: query plan for table 'node_messages':
SEARCH node_messages USING INDEX sqlite_autoindex_node_messages_1 (pk=?)
LIST SUBQUERY 1
SCAN __corro_sub.temp_node_messages
 sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f sql_hash=143ad8b1bd4cc5fb
2025-06-08T17:52:34.244220Z  INFO corro_types::pubsub: Starting loop to run the subscription sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.244223Z  INFO corro_types::pubsub: Notified condvar that the subscription is 'running' sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.245405Z  INFO corro_types::pubsub: Deleted 0 old changes row in 25.584µs sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:34.254310Z  WARN corro_agent::api::public::pubsub: could not forward subscription query event to receiver: channel closed sub_id=1c5e1adf-6591-4b4c-99de-00ec00daab8f
2025-06-08T17:52:36.345545Z  INFO corro_agent::agent::handlers: Member Up Actor { id: ActorId(f3e3d04a-2cee-4b6b-bd0d-3dfb02da4163), addr: 127.0.0.1:8789, ts: Timestamp(6845cde457eea200), cluster_id: ClusterId(0) } (result: Updated)
2025-06-08T17:52:36.905848Z  INFO corro_agent::agent::handlers: Member Down Actor { id: ActorId(f3e3d04a-2cee-4b6b-bd0d-3dfb02da4163), addr: 127.0.0.1:8789, ts: Timestamp(6845c9101beb1810), cluster_id: ClusterId(0) } (removed: false)
2025-06-08T17:52:37.820468Z ERROR corro_agent::transport: error=deadline has elapsed
2025-06-08T17:52:37.820494Z ERROR corro_agent::transport: error=deadline has elapsed
2025-06-08T17:52:37.820504Z ERROR corro_agent::agent::handlers: could not write datagram 127.0.0.1:8789: deadline has elapsed
